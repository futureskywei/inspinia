<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>架构图服务管理</h2>
    </div>
    <div class="col-lg-2">

    </div>
</div>
<toaster-container></toaster-container>
<div class="row  white-bg fadeInRight" ng-controller="ArchController">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <div class="ibox-tools">
                        <a style="padding: 0 0 0 0;float: left" class="btn btn-primary"
                           ng-click="add()" title="添加服务"><i
                                class="fa fa-plus"></i>添加服务</a>
                    </div>
                    <div class="ibox-content">
                        <table datatable="ng" dt-options="dtOptions"
                               class="table table-striped table-bordered table-hover dataTables-example">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>AppKey</th>
                                <th>AppSecret</th>
                                <th>AppName</th>
                                <th>RedirectUri</th>
                                <th>Scope</th>
                                <th>OP</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="c in clients">
                                <td>{{ c.id }}</td>
                                <td>{{ c.appKey }}</td>
                                <td>{{ c.appSecret }}</td>
                                <td>{{ c.appName }}</td>
                                <td>{{ c.redirectUri }}</td>
                                <td>{{ c.scope }}</td>
                                <td align="center"><a href="#" ng-click="edit(c.id)" title="编辑"><i
                                        class="fa fa-edit"></i></a>&nbsp;
                                    <a href="#" ng-click="del(c.id)" title="删除"><i
                                            class="fa fa-trash"></i></a>
                                </td>
                            </tr>
                            </tbody>
                        </table>


                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- form表单-->
    <div id="modal-form" class="modal fade" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <form name="postForm" role="form" novalidate ng-submit="ok()">
                    <div class="modal-header">
                        <h4 class="modal-title">{{title}}</h4>
                    </div>

                    <div class="modal-body">
                        <div class="form-group">
                            <label>ID<font color="red">*</font></label>
                            <input type="number" name="id" ng-model="newPost.id" placeholder="应用ID"
                                   class="form-control" required>
                            <div class="m-t-xs" ng-show="postForm.id.$invalid&& postForm.submitted">
                                <small class="text-danger" ng-show="postForm.id.$error.required">请输入应用ID</small>
                            </div>
                            <label>AppKey<font color="red">*</font></label>
                            <input type="text" name="appKey" ng-model="newPost.appKey" placeholder="应用Key" required
                                   class="form-control">
                            <div class="m-t-xs" ng-show="postForm.appKey.$invalid&& postForm.submitted">
                                <small class="text-danger" ng-show="postForm.appKey.$error.required">请输入应用Key</small>
                            </div>
                            <label>AppSecret<font color="red">*</font></label>
                            <input type="text" name="appSecret" ng-model="newPost.appSecret" placeholder="应用密钥" required
                                   class="form-control">
                            <div class="m-t-xs" ng-show="postForm.appSecret.$invalid&& postForm.submitted">
                                <small class="text-danger" ng-show="postForm.appSecret.$error.required">请输入应用密钥</small>
                            </div>
                            <label>AppName<font color="red">*</font></label>
                            <input type="text" name="appName" ng-model="newPost.appName" placeholder="应用名称" required
                                   class="form-control">
                            <div class="m-t-xs" ng-show="postForm.appName.$invalid&& postForm.submitted">
                                <small class="text-danger" ng-show="postForm.appName.$error.required">请输入应用名称</small>
                            </div>
                            <label>RedirectUri<font color="red">*</font></label>
                            <input type="text" name="redirectUri" ng-model="newPost.redirectUri" placeholder="回调地址"
                                   required
                                   class="form-control">
                            <div class="m-t-xs" ng-show="postForm.redirectUri.$invalid&& postForm.submitted">
                                <small class="text-danger" ng-show="postForm.redirectUri.$error.required">请输入回调地址
                                </small>
                            </div>
                            <label>Scope<font color="red">*</font></label>
                            <input type="text" name="scope" ng-model="newPost.scope" placeholder="授权类型" required
                                   class="form-control">
                            <div class="m-t-xs" ng-show="postForm.scope.$invalid&& postForm.submitted">
                                <small class="text-danger" ng-show="postForm.scope.$error.required">请输入授权类型</small>
                            </div>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-white" ng-click="cancel()">关闭</button>
                        <button type="submit" class="btn btn-primary">保存</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
